{% extends 'base.html' %}
{% block content %}
<style>
.invoice {
  width: 1090px;

  margin: 0px auto;
  font-family: Arial;
  overflow: hidden;
}

.header {
  width: 100%;
}

.header img {
  width: 100%;
}

.thanks {
  width: 100%;
  text-align: center;
  font-family: Arial;
  margin-bottom: 10px;
  margin-top: 10px;
  text-transform: uppercase;
}

.thanks p {
  font-size: 25px;
  font-weight: bold;
  color: #393939;
  margin-bottom: 4px;
  letter-spacing: 3px;
  text-transform: uppercase;
}

.orderinfo {
  float: left;
  width: 430px;
  line-height: 150%;
  padding-left: 15px;
  border-left: 1px dashed;
  height: 190px;
}

.orderinfo p {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 0px;
  color: #393939;
}

.spacing hr {
  width: 100%;
  margin-top: 10px;
  margin-bottom: 20px;
  display: inline-block;
  border: 1px dashed #393939;
}

.payinfo {
  width: 1070px;
  margin-top: 10px;
  display: inline-block;
  line-height: 20px;
  border: 1px solid;
  padding-bottom: 10px;
  padding-left: 10px;
  padding-right: 10px;
  border-radius: 5px;
}

.payinfo p {
  font-size: 18px;
  font-weight: bold;
  margin-top: 10px;
  margin-bottom: 5px;
  color: #393939;
  text-align: center;
}

.productinfo {
  display: inline-block;
  margin-top: 20px;
  float: left;
  width: 98.3%;
  background: #393939;
  padding: 10px;
  margin-right: 30px;
  border-radius: 10px;
}

.productinfo p {
  margin-top: 0px;
  color: #ffffff;
  font-weight: bold;
  font-size: 18px;
  margin-bottom: 5px;
}

.productinfo table {
  width: 100%;
}

.productinfo th.name {
  width: 35%;
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #393939;
}

.productinfo th.detail {
  width: 50%;
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #393939;
}

.productinfo td.name {
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #000000;
  padding: 3px;
}

.productinfo td.detail {
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #000000;
  padding: 3px;
}

.productinfo th.qty {
  width: 5%;
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #393939;
}

.productinfo th.cost {
  width: 10%;
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #393939;
}

.productinfo td.qty {
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #000000;
  padding-left: 3px;
  text-align: center;
}

.productinfo td.cost {
  background: #ffffff;
  border-radius: 5px;
  line-height: 150%;
  color: #000000;
  padding-left: 3px;
  text-align: center;
}

.ordernotes{
  display: inline-block;
  float: left;
  width: 700px;
  height: 150px;
  padding-right: 10px;
  border-right: 1px dashed;
}

.ordernotes p {
  font-size: 18px;
  margin-top: 10px;
  margin-bottom: 5px;
  font-weight: bold;
  color: #393939;
  text-transform: uppercase;
}

.payment {
  float: right;
  margin-top: 10px;
  margin-bottom: 0px;
  display: inline-block;
  width:400px;
  line-height: 140%;
  font-size: 12pt;
  height: 150px;
  }

.payment strong {
  color: #393939;
}


.footer{
  width: 100%;
  font-size: 10pt;
  margin-top: -10px;
}

.footer p {
  font-size: 13pt;
  font-weight: bold;
  margin-top: 0px;
  margin-bottom: 10px;
  color: #393939;
  display:inline-block;
  float: left;
  width: 100%;
}

.footer img {
  width: 100%;
  margin-top: 15px;
  position: relative;
}

ol.progtrckr {
    margin: 0;
    padding: 0;
    list-style-type none;
}

ol.progtrckr li {
    display: inline-block;
    text-align: center;
    line-height: 3.5em;
}

ol.progtrckr[data-progtrckr-steps="2"] li { width: 49%; }
ol.progtrckr[data-progtrckr-steps="3"] li { width: 33%; }
ol.progtrckr[data-progtrckr-steps="4"] li { width: 24%; }
ol.progtrckr[data-progtrckr-steps="5"] li { width: 19%; }
ol.progtrckr[data-progtrckr-steps="6"] li { width: 16%; }
ol.progtrckr[data-progtrckr-steps="7"] li { width: 14%; }
ol.progtrckr[data-progtrckr-steps="8"] li { width: 12%; }
ol.progtrckr[data-progtrckr-steps="9"] li { width: 11%; }

ol.progtrckr li.progtrckr-done {
    color: black;
    border-bottom: 4px solid yellowgreen;
}
ol.progtrckr li.progtrckr-todo {
    color: silver; 
    border-bottom: 4px solid silver;
}

ol.progtrckr li:after {
    content: "\00a0\00a0";
}
ol.progtrckr li:before {
    position: relative;
    bottom: -2.5em;
    float: left;
    left: 50%;
    line-height: 1em;
}
ol.progtrckr li.progtrckr-done:before {
    content: "\2713";
    color: white;
    background-color: yellowgreen;
    height: 2.2em;
    width: 2.2em;
    line-height: 2.2em;
    border: none;
    border-radius: 2.2em;
}
ol.progtrckr li.progtrckr-todo:before {
    content: "\039F";
    color: silver;
    background-color: white;
    font-size: 2.2em;
    bottom: -1.2em;
    
}
</style>
<div class="container">
    <h1>予約完了</h1>
    <p>メールをお送りしましたので、ご確認してください</p>
    <a href="{% url 'home' %}">ホーム画面に戻る</a>
    <div class="spacing">
        <hr>
    </div>
    <div class="orderinfo">
        <p> 利用者様情報:</p>
        <strong>お名前:</strong>{{ order.name }}<br />
        <strong>電話番号:</strong>{{ order.phone }}<br />
        <strong>メールアドレス:</strong>{{ order.email }}<br />
        <strong>施設住所:</strong>{{ order.facility }}<br />
    </div>
    <div class="orderinfo">
        <p>予約者情報: </p>
        <strong>お名前:</strong>{{ order.user.username }}<br />
        <strong>電話番号:</strong>{{ order.user.client.phone }}<br />
        <strong>メールアドレス:</strong>{{ order.user.email }}<br />
        <strong>施設住所:</strong>{{ order.user.client.facility }}<br />
    </div>
    <div class="orderinfo">
        <p>注文情報: </p>
        <strong>相談員:</strong>{% if not order.handler.first  %}指名なし{% else %}{{ order.handler.first }}{% endif %}<br />
        <strong>注文番号:</strong>{{ order.pk }}<br />
        <strong>注文状況:</strong><span>{% if order.status == 2%}予約済み{% else %}受渡済み{% endif %}<br /></span>
        
        <strong> 注文日付:</strong>{{ order.created_on }}<br />
    </div>
    <div class="spacing">
        <hr>
    </div>
    <div class="payinfo">
        <p>お知らせ:</p>
        予約してから<strong>2～3営業日以内</strong>にご連絡いたします。(休日は除く)もしお問い合わせ事項がありましたら
        <strong>電話番号:080-3829-8883</strong>または、ホームページの<strong>メッセージ</strong>にてお問い合わせくださいませ。(メッセージのURLはこちら<a href="{% url 'inbox'%}" class="alert alert-info p-0"><i class="fa fa-comments" aria-hidden="true"></i>メッセージ</a>)
    </div>
    <div class="productinfo">
        <p>注文内訳:</p>
        <table>
            <tbody>
                <tr>
                    <th class="name">商品名</th>
                    <th class="detail">商品カテゴリー</th>
                    <th class="qty">数量</th>
                    <th class="cost">値段/月額</th>
                </tr>
                {% for item in order.items.all %}
                <tr>
                    <td class="name">{{ item.items.name }}</td>
                    <td class="detail">{{ item.items.category.parent }}|({{ item.items.category }})</td>
                    <td class="qty">{{ item.quantity }}</td>
                    <td class="cost">{{ item.get_total_item_price }}円</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="ordernotes">
        <p>注文状況</p>
        <ol class="progtrckr" data-progtrckr-steps="5">
            <li class="progtrckr-{% if order.status == 2 or 1 or 0%}done{% else %}todo{% endif %}">予約済み</li>
            <li class="progtrckr-{% if order.status == 1 or 0%}done{% else %}todo{% endif %}">担当者確定</li>
            <li class="progtrckr-{% if order.status == 0%}done{% else %}todo{% endif %}">相談済み</li>
            <li class="progtrckr-todo">受渡済み</li>
        </ol>
        
    </div>
    <div class="payment">
    <h3>- 確認 -</h3>
        <strong>合計: </strong>{{ order.price }}円<br />
        <strong> 限度額残量：</strong>{{ order.user.limit }}円<br />
        <strong> 決済方式:</strong>相談後決定<br />
    </div>
    <div class="spacing">
        <hr>
    </div>
    <div class="footer">
        If any of the above information is incorrect, you must inform us as soon as possible using info@dwcreative.uk. Failure to do so will result in your order being dispatched as above. Orders are accepted up to 5pm every working day. if they arrive with DW Creative Design studio after this time, they are considered to have arrived the next day. There may be a delay if you have opted in for a printed proof to be sent to yourself or there is a delay with your payment. We aim to notify our customers of all delays where possible. Once your order has been dispatched, you will recieve an email of estimated delivery date and tracking number if applicable. For full terms and conditions please visit www.dwcreative.uk
    </div>

</div>

  
{% endblock content %}